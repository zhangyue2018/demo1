(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports={stage:"main_stage__Ug0nf"}},18:function(e){e.exports=[{fileName:"1.jpg",title:"Looking",desc:"He is looking far away."},{fileName:"2.jpg",title:"performance",desc:"Here is an act of staging or presenting a play."},{fileName:"3.jpg",title:"Worshipping",desc:"They is Worshipping in front of the temple."},{fileName:"4.jpg",title:"Vitality",desc:"These plants are so vibrant."},{fileName:"5.jpg",title:"View of back",desc:"This is a view of someone's back."},{fileName:"6.jpg",title:"Child",desc:"What is this kid looking at\uff1f"},{fileName:"7.jpg",title:"Playing",desc:"They are playing at the beach."},{fileName:"8.jpg",title:"Umbrella",desc:"This umbrella looks great."},{fileName:"9.jpg",title:"Horn",desc:"Are they listening to the song with a trumpet?"},{fileName:"10.jpg",title:"Working",desc:"In my opinion, this is a way of working for them."},{fileName:"11.jpg",title:"Custom",desc:"This way of working is one of the local customs."},{fileName:"12.jpg",title:"Sky",desc:"The sky is so beautiful."},{fileName:"13.jpg",title:"Many houses",desc:"Living in this village should be very quiet."},{fileName:"14.jpg",title:"Street",desc:"A busy street."},{fileName:"15.jpg",title:"Field",desc:"It\u2019s beautiful in the autumn fields."},{fileName:"16.jpg",title:"Heaven of heart",desc:"A place where the mind relaxes."}]},19:function(e,t,n){e.exports=n(37)},34:function(e,t,n){var i={"./1.jpg":[38,1],"./10.jpg":[39,2],"./11.jpg":[40,3],"./12.jpg":[41,4],"./13.jpg":[42,5],"./14.jpg":[43,6],"./15.jpg":[44,7],"./16.jpg":[45,8],"./2.jpg":[46,9],"./3.jpg":[47,10],"./4.jpg":[48,11],"./5.jpg":[49,12],"./6.jpg":[50,13],"./7.jpg":[51,14],"./8.jpg":[52,15],"./9.jpg":[53,16]};function a(e){var t=i[e];return t?n.e(t[1]).then(function(){var e=t[0];return n.t(e,7)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}a.keys=function(){return Object.keys(i)},a.id=34,e.exports=a},37:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(14),s=n.n(r),c=n(1),o=n(2),l=n(4),g=n(3),f=n(5),h=n(15),m=n(9),u=n.n(m),d=n(6),p=n.n(d),v=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(g.a)(t).call(this))).handleClick=function(t){e.props.arrange.isCenter?e.props.inverse():e.props.center()},e.handleClick=u()(e.handleClick,100),e}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.id,i=e.setRef,r=e.arrange,s=e.styleRef,c={},o=r&&r.isInverse;return r&&r.pos&&(c=r.pos),r&&s&&(["MozTransform","msTransform","WebkitTransform","transform"].forEach(function(e){s[e]="rotate("+r.rotate+"deg)"}),r.isCenter?s.zIndex=11:s.zIndex=10),a.a.createElement("figure",{className:"".concat(p.a["img-figure"]," ").concat(o?p.a["is-inverse"]:""),ref:function(e){i(n,e)},style:c,onClick:this.handleClick},a.a.createElement("img",{src:t.imageURL,alt:t.title}),a.a.createElement("figcaption",null,a.a.createElement("h2",{className:p.a["img-title"]},t.title)),a.a.createElement("div",{className:p.a["img-back"],onClick:this.handleClick},a.a.createElement("p",null,t.desc)))}}]),t}(i.Component),I={left:0,top:0},k={leftSecX:[0,0],rightSecX:[0,0],secY:[0,0]},j={secX:[0,0],topsecY:[0,0]},C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(g.a)(t).call(this,e))).calcLayout=function(e){var t=n.getImageSize();I={left:e.halfStageW-t.halfImgW,top:e.halfStageH-t.halfImgH},k.leftSecX[0]=-t.halfImgW,k.leftSecX[1]=e.halfStageW-3*t.halfImgW,k.rightSecX[0]=e.halfStageW+t.halfImgW,k.rightSecX[1]=e.stageW-t.halfImgW,k.secY[0]=-t.halfImgH,k.secY[1]=e.stageH-t.halfImgH,j.secX[0]=e.halfStageW-t.imgW,j.secX[1]=e.halfStageW,j.topsecY[0]=-t.halfImgH,j.topsecY[1]=e.halfStageH-3*t.halfImgH},n.setImgFigureEle=function(e,t){n[e]=t},n.getImageSize=function(){var e=n.imgFig0,t=e.scrollWidth,i=e.scrollHeight;return{imgW:t,imgH:i,halfImgW:Math.ceil(t/2),halfImgH:Math.ceil(i/2)}},n.getRangeRandom=function(e,t){return Math.ceil(Math.random()*(t-e)+e)},n.get30DegRandom=function(){return(Math.random()>.5?"":"-")+Math.ceil(30*Math.random())},n.reArrange=function(e){var t,i=n.state.imgArrangeArr,a=k.leftSecX,r=k.rightSecX,s=k.secY,c=j.secX,o=j.topsecY,l=[],g=Math.floor(2*Math.random()),f=i.splice(e,1);n.centerIndex=e,f[0].pos=I,f[0].rotate=0,f[0].isCenter=!0,f[0].isInverse=!1,t=Math.floor(Math.random()*i.length),(l=i.splice(t,g)).forEach(function(e,t){l[t].pos={left:n.getRangeRandom(c[0],c[1]),top:n.getRangeRandom(o[0],o[1])},l[t].rotate=n.get30DegRandom(),l[t].isCenter=!1,l[t].isInverse=!1});for(var h=0,m=i.length,u=m/2;h<m;h++){var d=null;d=h<u?a:r,i[h].pos={top:n.getRangeRandom(s[0],s[1]),left:n.getRangeRandom(d[0],d[1])},i[h].rotate=n.get30DegRandom(),i[h].isCenter=!1,i[h].isInverse=!1}l&&l[0]&&i.splice(t,0,l[0]),i.splice(e,0,f[0]),n.setState({imgArrangeArr:i})},n.doCenter=function(e){return function(){n.props.handleClick({name:"center",clickIndex:e,isCenter:!0,isInverse:!1})}},n.doInverse=function(e){return function(){var t=n.state.imgArrangeArr,i=Object.assign({},t[e]);n.props.handleClick({name:"inverse",clickIndex:e,isCenter:!0,isInverse:!i.isInverse})}},n.state={imgArrangeArr:e.imageDatas.map(function(e,t){return{pos:{left:0,top:0},rotate:0,isInverse:!1,isCenter:!1}}),imageDatas:e.imageDatas},n.centerIndex=0,n}return Object(f.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,i=t.imageDatas,a=t.stageSize;Promise.all(i.map(function(e,t){return n(34)("./"+e.fileName).then(function(t){return e.imageURL=t.default,e})})).then(function(t){e.setState({imageDatas:t})}),this.calcLayout(a),this.reArrange(this.centerIndex)}},{key:"componentWillReceiveProps",value:function(e){var t=e.stageSize,n=e.clickInfo,i=this.props.stageSize,a=this.props.clickInfo,r=this.state.imgArrangeArr;if(i.stageH!==t.stageH||i.stageW!==t.stageW){this.calcLayout(t);var s=Object.assign({},r[n.clickIndex]);this.reArrange(this.centerIndex),r[n.clickIndex].isInverse=s.isInverse,this.setState({imgArrangeArr:r})}if("center"===n.name)n.clickIndex!==a.clickIndex&&this.reArrange(n.clickIndex);else if("inverse"===n.name&&n.isInverse!==a.isInverse){var c=Object.assign({},r[n.clickIndex]);r[n.clickIndex].isInverse=!c.isInverse,this.setState({imgArrangeArr:r})}}},{key:"render",value:function(){var e=this,t=this.state.imgArrangeArr,n=this.props.imageDatas,i=[];return n.forEach(function(n,r){i.push(a.a.createElement(v,{data:n,key:r,id:"imgFig"+r,setRef:e.setImgFigureEle,arrange:t[r],styleRef:e["imgFig"+r]&&e["imgFig"+r].style,inverse:e.doInverse(r),center:e.doCenter(r)}))}),a.a.createElement("div",{className:p.a["img-sec"]},i)}}]),t}(i.Component),b=n(16),y=n.n(b),S=n(7),x=n.n(S),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(g.a)(t).call(this))).handleClick=function(t){var n=e.props;n.arrange&&n.arrange.isCenter?n.inverse():n.center()},e.handleClick=y()(e.handleClick,500),e}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.arrange;return a.a.createElement("span",{className:"".concat(x.a["controller-unit"]," ").concat(e.isCenter?x.a["is-center"]:""," ").concat(e.isInverse?x.a["is-inverse"]:""),onClick:this.handleClick})}}]),t}(i.Component),W=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(g.a)(t).call(this,e))).doCenter=function(e){return function(){n.props.handleClick({name:"center",clickIndex:e,isCenter:!0,isInverse:!1})}},n.doInverse=function(e){return function(){n.props.handleClick({name:"inverse",clickIndex:e,isCenter:!0,isInverse:!n.props.clickInfo.isInverse})}},n.state={centerControllerInfo:{controllerIndex:0,isCenter:!0,isInverse:!1},controllerInfos:e.imageDatas.map(function(e,t){return{controllerIndex:t,isCenter:!1,isInverse:!1}})},n}return Object(f.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.centerControllerInfo,n=e.controllerInfos;n[t.controllerIndex]=t,this.setState({controllerInfos:n})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.clickInfo,n=e.clickInfo,i=this.state.controllerInfos;if("center"===n.name)n.clickIndex!==t.clickIndex&&(i[n.clickIndex]={controllerIndex:n.clickIndex,isCenter:!0,isInverse:!1},i[t.clickIndex]={controllerIndex:t.clickIndex,isCenter:!1,isInverse:!1},this.setState({controllerInfos:i}));else if("inverse"===n.name&&n.isInverse!==t.isInverse){var a=Object.assign({},i[n.clickIndex]);i[n.clickIndex]={controllerIndex:n.clickIndex,isCenter:!0,isInverse:!a.isInverse},this.setState({controllerInfos:i})}}},{key:"render",value:function(){var e=this,t=[],n=this.props.imageDatas,i=this.state.controllerInfos;return n.forEach(function(n,r){t.push(a.a.createElement(O,{key:r,arrange:i[r],inverse:e.doInverse(r),center:e.doCenter(r)}))}),a.a.createElement("div",{className:x.a["controller-nav"]},t)}}]),t}(i.Component),_=n(17),w=n.n(_),E=n(18),N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(g.a)(t).call(this))).handleClick=function(t){e.setState({clickInfo:t})},e.resize=function(){e.setState({stageSize:e.getStageSize()})},e.getStageSize=function(){var t=e.stage.scrollWidth,n=e.stage.scrollHeight;return{stageW:t,stageH:n,halfStageW:Math.ceil(t/2),halfStageH:Math.ceil(n/2)}},e.state={imageDatas:E||[],stageSize:{stageW:0,stageH:0,halfStageW:0,halfStageH:0},clickInfo:{name:"noClick",clickIndex:0,isCenter:!0,isInverse:!1}},e.resize=Object(h.debounce)(e.resize,200),e}return Object(f.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize);var e=this.getStageSize();this.setState({stageSize:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.imageDatas,i=t.stageSize,r=t.clickInfo;return a.a.createElement("section",{className:w.a.stage,ref:function(t){return e.stage=t}},n[0]&&a.a.createElement(C,{imageDatas:n,stageSize:i,handleClick:this.handleClick,clickInfo:r}),n[0]&&a.a.createElement(W,{imageDatas:n,handleClick:this.handleClick,clickInfo:r}))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,n){e.exports={"img-sec":"style_img-sec__15TlO","img-figure":"style_img-figure__2boYt","is-inverse":"style_is-inverse__1c-Vy","img-title":"style_img-title__2JstJ","img-back":"style_img-back__1Nu8h"}},7:function(e,t,n){e.exports={"controller-nav":"style_controller-nav__mEVYT","controller-unit":"style_controller-unit__2Sbw1","is-center":"style_is-center__2geR8","is-inverse":"style_is-inverse__11wQE"}}},[[19,18,17]]]);
//# sourceMappingURL=main.6a32ba9c.chunk.js.map