{"ast":null,"code":"import _classCallCheck from \"/home/zhangyue/test/demo1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zhangyue/test/demo1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/zhangyue/test/demo1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/zhangyue/test/demo1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/zhangyue/test/demo1/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/zhangyue/test/demo1/src/components/image-section/ImageFigure.js\";\nimport React, { Component } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport styles from './style/style.module.scss';\n\nvar ImageFigure =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ImageFigure, _Component);\n\n  function ImageFigure() {\n    var _this;\n\n    _classCallCheck(this, ImageFigure);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageFigure).call(this)); //防抖\n\n    _this.handleClick = function (e) {\n      if (_this.props.arrange.isCenter) {\n        _this.props.inverse();\n      } else {\n        _this.props.center();\n      }\n    };\n\n    _this.handleClick = debounce(_this.handleClick, 100);\n    return _this;\n  }\n  /**\n   * imgfigure的点击处理函数\n   */\n\n\n  _createClass(ImageFigure, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          id = _this$props.id,\n          setRef = _this$props.setRef,\n          arrange = _this$props.arrange,\n          styleRef = _this$props.styleRef,\n          styleObj = {};\n      var isInverse = arrange && arrange.isInverse;\n\n      if (arrange && arrange.pos) {\n        styleObj = arrange.pos;\n      } // //如果图片的旋转角度有值并且不为0，添加旋转角度\n      // if(arrange && arrange.rotate) {\n      //   (['-moz-', '-ms-', '-webkit-', '']).forEach((value) => {\n      //     styleObj[value + \"transform\"] = \"rotate(\" + arrange.rotate + \"deg)\";\n      //   });\n      // }\n      //设置每张图片的旋转角度\n\n\n      if (arrange && styleRef) {\n        [\"MozTransform\", \"msTransform\", \"WebkitTransform\", \"transform\"].forEach(function (value) {\n          styleRef[value] = \"rotate(\" + arrange.rotate + \"deg)\";\n        });\n\n        if (arrange.isCenter) {\n          styleRef.zIndex = 11;\n        } else {\n          styleRef.zIndex = 10;\n        }\n      }\n\n      return React.createElement(\"figure\", {\n        className: \"\".concat(styles[\"img-figure\"], \" \").concat(isInverse ? styles[\"is-inverse\"] : \"\"),\n        ref: function ref(element) {\n          setRef(id, element);\n        },\n        style: styleObj,\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: data.imageURL,\n        alt: data.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"figcaption\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: styles[\"img-title\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, data.title)), React.createElement(\"div\", {\n        className: styles[\"img-back\"],\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, data.desc)));\n    }\n  }]);\n\n  return ImageFigure;\n}(Component);\n\nexport default ImageFigure;","map":{"version":3,"sources":["/home/zhangyue/test/demo1/src/components/image-section/ImageFigure.js"],"names":["React","Component","debounce","styles","ImageFigure","handleClick","e","props","arrange","isCenter","inverse","center","data","id","setRef","styleRef","styleObj","isInverse","pos","forEach","value","rotate","zIndex","element","imageURL","title","desc"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,iBAArB;AAEA,OAAOC,MAAP,MAAmB,2BAAnB;;IAIMC,W;;;;;AACJ,yBAAc;AAAA;;AAAA;;AACZ,sFADY,CAGZ;;AAHY,UAUdC,WAVc,GAUA,UAAAC,CAAC,EAAI;AACjB,UAAI,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,QAAvB,EAAiC;AAC/B,cAAKF,KAAL,CAAWG,OAAX;AACD,OAFD,MAEO;AACL,cAAKH,KAAL,CAAWI,MAAX;AACD;AACF,KAhBa;;AAIZ,UAAKN,WAAL,GAAmBH,QAAQ,CAAC,MAAKG,WAAN,EAAmB,GAAnB,CAA3B;AAJY;AAKb;AAED;;;;;;;6BAYS;AAAA,wBACuC,KAAKE,KAD5C;AAAA,UACDK,IADC,eACDA,IADC;AAAA,UACKC,EADL,eACKA,EADL;AAAA,UACSC,MADT,eACSA,MADT;AAAA,UACiBN,OADjB,eACiBA,OADjB;AAAA,UAC0BO,QAD1B,eAC0BA,QAD1B;AAAA,UAELC,QAFK,GAEM,EAFN;AAGP,UAAIC,SAAS,GAAGT,OAAO,IAAIA,OAAO,CAACS,SAAnC;;AAEA,UAAIT,OAAO,IAAIA,OAAO,CAACU,GAAvB,EAA4B;AAC1BF,QAAAA,QAAQ,GAAGR,OAAO,CAACU,GAAnB;AACD,OAPM,CASP;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACA,UAAIV,OAAO,IAAIO,QAAf,EAAyB;AACvB,SAAC,cAAD,EAAiB,aAAjB,EAAgC,iBAAhC,EAAmD,WAAnD,EAAgEI,OAAhE,CACE,UAAAC,KAAK,EAAI;AACPL,UAAAA,QAAQ,CAACK,KAAD,CAAR,GAAkB,YAAYZ,OAAO,CAACa,MAApB,GAA6B,MAA/C;AACD,SAHH;;AAKA,YAAIb,OAAO,CAACC,QAAZ,EAAsB;AACpBM,UAAAA,QAAQ,CAACO,MAAT,GAAkB,EAAlB;AACD,SAFD,MAEO;AACLP,UAAAA,QAAQ,CAACO,MAAT,GAAkB,EAAlB;AACD;AACF;;AAGD,aACE;AACE,QAAA,SAAS,YAAKnB,MAAM,CAAC,YAAD,CAAX,cAA6Bc,SAAS,GAAGd,MAAM,CAAC,YAAD,CAAT,GAA0B,EAAhE,CADX;AAEE,QAAA,GAAG,EAAE,aAAAoB,OAAO,EAAI;AACdT,UAAAA,MAAM,CAACD,EAAD,EAAKU,OAAL,CAAN;AACD,SAJH;AAKE,QAAA,KAAK,EAAEP,QALT;AAME,QAAA,OAAO,EAAE,KAAKX,WANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQE;AAAK,QAAA,GAAG,EAAEO,IAAI,CAACY,QAAf;AAAyB,QAAA,GAAG,EAAEZ,IAAI,CAACa,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAEtB,MAAM,CAAC,WAAD,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqCS,IAAI,CAACa,KAA1C,CADF,CATF,EAYE;AAAK,QAAA,SAAS,EAAEtB,MAAM,CAAC,UAAD,CAAtB;AAAoC,QAAA,OAAO,EAAE,KAAKE,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIO,IAAI,CAACc,IAAT,CADF,CAZF,CADF;AAkBD;;;;EArEuBzB,S;;AAwE1B,eAAeG,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport debounce from \"lodash/debounce\";\n\nimport styles from './style/style.module.scss';\n\n\n\nclass ImageFigure extends Component {\n  constructor() {\n    super();\n\n    //防抖\n    this.handleClick = debounce(this.handleClick, 100);\n  }\n\n  /**\n   * imgfigure的点击处理函数\n   */\n  handleClick = e => {\n    if (this.props.arrange.isCenter) {\n      this.props.inverse();\n    } else {\n      this.props.center();\n    }\n  };\n\n\n  render() {\n    let { data, id, setRef, arrange, styleRef } = this.props,\n      styleObj = {};\n    let isInverse = arrange && arrange.isInverse;\n\n    if (arrange && arrange.pos) {\n      styleObj = arrange.pos;\n    }\n\n    // //如果图片的旋转角度有值并且不为0，添加旋转角度\n    // if(arrange && arrange.rotate) {\n    //   (['-moz-', '-ms-', '-webkit-', '']).forEach((value) => {\n    //     styleObj[value + \"transform\"] = \"rotate(\" + arrange.rotate + \"deg)\";\n    //   });\n    // }\n\n    //设置每张图片的旋转角度\n    if (arrange && styleRef) {\n      [\"MozTransform\", \"msTransform\", \"WebkitTransform\", \"transform\"].forEach(\n        value => {\n          styleRef[value] = \"rotate(\" + arrange.rotate + \"deg)\";\n        }\n      );\n      if (arrange.isCenter) {\n        styleRef.zIndex = 11;\n      } else {\n        styleRef.zIndex = 10;\n      }\n    }\n\n\n    return (\n      <figure\n        className={`${styles[\"img-figure\"]} ${isInverse ? styles[\"is-inverse\"] : \"\"}`}\n        ref={element => {\n          setRef(id, element);\n        }}\n        style={styleObj}\n        onClick={this.handleClick}\n      >\n        <img src={data.imageURL} alt={data.title} />\n        <figcaption>\n          <h2 className={styles[\"img-title\"]}>{data.title}</h2>\n        </figcaption>\n        <div className={styles[\"img-back\"]} onClick={this.handleClick}>\n          <p>{data.desc}</p>\n        </div>\n      </figure>\n    );\n  }\n}\n\nexport default ImageFigure;\n"]},"metadata":{},"sourceType":"module"}