(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports={stage:"main_stage__Ug0nf"}},127:function(e){e.exports=[{fileName:"1.jpg",title:"Looking",desc:"He is looking far away."},{fileName:"2.jpg",title:"performance",desc:"Here is an act of staging or presenting a play."},{fileName:"3.jpg",title:"Worshipping",desc:"They is Worshipping in front of the temple."},{fileName:"4.jpg",title:"Vitality",desc:"These plants are so vibrant."},{fileName:"5.jpg",title:"View of back",desc:"This is a view of someone's back."},{fileName:"6.jpg",title:"Child",desc:"What is this kid looking at\uff1f"},{fileName:"7.jpg",title:"Playing",desc:"They are playing at the beach."},{fileName:"8.jpg",title:"Umbrella",desc:"This umbrella looks great."},{fileName:"9.jpg",title:"Horn",desc:"Are they listening to the song with a trumpet?"},{fileName:"10.jpg",title:"Working",desc:"In my opinion, this is a way of working for them."},{fileName:"11.jpg",title:"Custom",desc:"This way of working is one of the local customs."},{fileName:"12.jpg",title:"Sky",desc:"The sky is so beautiful."},{fileName:"13.jpg",title:"Many houses",desc:"Living in this village should be very quiet."},{fileName:"14.jpg",title:"Street",desc:"A busy street."},{fileName:"15.jpg",title:"Field",desc:"It\u2019s beautiful in the autumn fields."},{fileName:"16.jpg",title:"Heaven of heart",desc:"A place where the mind relaxes."}]},128:function(e,t,a){e.exports=a(311)},308:function(e,t,a){var r={"./1.jpg":[312,1],"./10.jpg":[313,2],"./11.jpg":[314,3],"./12.jpg":[315,4],"./13.jpg":[316,5],"./14.jpg":[317,6],"./15.jpg":[318,7],"./16.jpg":[319,8],"./2.jpg":[320,9],"./3.jpg":[321,10],"./4.jpg":[322,11],"./5.jpg":[323,12],"./6.jpg":[324,13],"./7.jpg":[325,14],"./8.jpg":[326,15],"./9.jpg":[327,16]};function n(e){var t=r[e];return t?a.e(t[1]).then(function(){var e=t[0];return a.t(e,7)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return Object.keys(r)},n.id=308,e.exports=n},311:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a.n(r),i=a(124),s=a.n(i),o=(a(133),a(21)),l=a(22),c=a(24),_=a(23),g=a(25),f=a(90),h=a.n(f),m=a(32),u=a.n(m),p=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(_.a)(t).call(this))).handleClick=function(t){e.props.arrange.isCenter?e.props.inverse():e.props.center()},e.handleClick=h()(e.handleClick,100),e}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.id,r=e.setRef,i=e.arrange,s={},o=i&&i.isInverse;return i&&i.pos&&(s=i.pos),n.a.createElement("figure",{className:"".concat(u.a["img-figure"]," ").concat(o?u.a["is-inverse"]:""," ").concat(i.isCenter?u.a["is-center"]:""," ").concat(u.a["rotate"+i.rotate]),ref:function(e){r(a,e)},style:s,onClick:this.handleClick},n.a.createElement("img",{src:t.imageURL,alt:t.title}),n.a.createElement("figcaption",null,n.a.createElement("h2",{className:u.a["img-title"]},t.title)),n.a.createElement("div",{className:u.a["img-back"],onClick:this.handleClick},n.a.createElement("p",null,t.desc)))}}]),t}(r.Component),d={left:0,top:0},y={leftSecX:[0,0],rightSecX:[0,0],secY:[0,0]},v={secX:[0,0],topsecY:[0,0]},I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(_.a)(t).call(this,e))).calcLayout=function(e){var t=a.getImageSize();d={left:e.halfStageW-t.halfImgW,top:e.halfStageH-t.halfImgH},y.leftSecX[0]=-t.halfImgW,y.leftSecX[1]=e.halfStageW-3*t.halfImgW,y.rightSecX[0]=e.halfStageW+t.halfImgW,y.rightSecX[1]=e.stageW-t.halfImgW,y.secY[0]=-t.halfImgH,y.secY[1]=e.stageH-t.halfImgH,v.secX[0]=e.halfStageW-t.imgW,v.secX[1]=e.halfStageW,v.topsecY[0]=-t.halfImgH,v.topsecY[1]=e.halfStageH-3*t.halfImgH},a.setImgFigureEle=function(e,t){a[e]=t},a.getImageSize=function(){var e=a.imgFig0,t=e.clientWidth,r=e.clientHeight;return{imgW:t,imgH:r,halfImgW:Math.ceil(t/2),halfImgH:Math.ceil(r/2)}},a.getRangeRandom=function(e,t){return Math.ceil(Math.random()*(t-e)+e)},a.get30DegRandom=function(){return(Math.random()>.5?"":"-")+Math.ceil(30*Math.random())},a.reArrange=function(e){var t,r=a.state.imgArrangeArr,n=y.leftSecX,i=y.rightSecX,s=y.secY,o=v.secX,l=v.topsecY,c=[],_=Math.floor(2*Math.random()),g=r.splice(e,1);a.centerIndex=e,g[0].pos=d,g[0].rotate=0,g[0].isCenter=!0,g[0].isInverse=!1,t=Math.floor(Math.random()*r.length),(c=r.splice(t,_)).forEach(function(e,t){c[t].pos={left:a.getRangeRandom(o[0],o[1]),top:a.getRangeRandom(l[0],l[1])},c[t].rotate=a.get30DegRandom(),c[t].isCenter=!1,c[t].isInverse=!1});for(var f=0,h=r.length,m=h/2;f<h;f++){var u=null;u=f<m?n:i,r[f].pos={top:a.getRangeRandom(s[0],s[1]),left:a.getRangeRandom(u[0],u[1])},r[f].rotate=a.get30DegRandom(),r[f].isCenter=!1,r[f].isInverse=!1}c&&c[0]&&r.splice(t,0,c[0]),r.splice(e,0,g[0]),a.setState({imgArrangeArr:r})},a.doCenter=function(e){return function(){a.props.handleClick({name:"center",clickIndex:e,isCenter:!0,isInverse:!1})}},a.doInverse=function(e){return function(){var t=a.state.imgArrangeArr,r=Object.assign({},t[e]);a.props.handleClick({name:"inverse",clickIndex:e,isCenter:!0,isInverse:!r.isInverse})}},a.state={imgArrangeArr:e.imageDatas.map(function(e,t){return{pos:{left:0,top:0},rotate:0,isInverse:!1,isCenter:!1}}),imageDatas:e.imageDatas},a.centerIndex=0,a}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.imageDatas,n=t.stageSize;Promise.all(r.map(function(e,t){return a(308)("./"+e.fileName).then(function(t){return e.imageURL=t.default,e})})).then(function(t){e.setState({imageDatas:t})}),this.calcLayout(n),this.reArrange(this.centerIndex)}},{key:"componentWillReceiveProps",value:function(e){var t=e.stageSize,a=e.clickInfo,r=this.props.stageSize,n=this.props.clickInfo,i=this.state.imgArrangeArr;if(r.stageH!==t.stageH||r.stageW!==t.stageW){this.calcLayout(t);var s=Object.assign({},i[a.clickIndex]);this.reArrange(this.centerIndex),i[a.clickIndex].isInverse=s.isInverse,this.setState({imgArrangeArr:i})}if("center"===a.name)a.clickIndex!==n.clickIndex&&this.reArrange(a.clickIndex);else if("inverse"===a.name&&a.isInverse!==n.isInverse){var o=Object.assign({},i[a.clickIndex]);i[a.clickIndex].isInverse=!o.isInverse,this.setState({imgArrangeArr:i})}}},{key:"render",value:function(){var e=this,t=this.state.imgArrangeArr,a=this.props.imageDatas,r=[];return a.forEach(function(a,i){r.push(n.a.createElement(p,{data:a,key:i,id:"imgFig"+i,setRef:e.setImgFigureEle,arrange:t[i],inverse:e.doInverse(i),center:e.doCenter(i)}))}),n.a.createElement("div",{className:u.a["img-sec"]},r)}}]),t}(r.Component),k=a(125),j=a.n(k),C=a(50),b=a.n(C),S=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(_.a)(t).call(this))).handleClick=function(t){var a=e.props;a.arrange&&a.arrange.isCenter?a.inverse():a.center()},e.handleClick=j()(e.handleClick,200),e}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.arrange;return n.a.createElement("span",{className:"".concat(b.a["controller-unit"]," ").concat(e.isCenter?b.a["is-center"]:""," ").concat(e.isInverse?b.a["is-inverse"]:""),onClick:this.handleClick})}}]),t}(r.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(_.a)(t).call(this,e))).doCenter=function(e){return function(){a.props.handleClick({name:"center",clickIndex:e,isCenter:!0,isInverse:!1})}},a.doInverse=function(e){return function(){a.props.handleClick({name:"inverse",clickIndex:e,isCenter:!0,isInverse:!a.props.clickInfo.isInverse})}},a.state={centerControllerInfo:{controllerIndex:0,isCenter:!0,isInverse:!1},controllerInfos:e.imageDatas.map(function(e,t){return{controllerIndex:t,isCenter:!1,isInverse:!1}})},a}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.centerControllerInfo,a=e.controllerInfos;a[t.controllerIndex]=t,this.setState({controllerInfos:a})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.clickInfo,a=e.clickInfo,r=this.state.controllerInfos;if("center"===a.name)a.clickIndex!==t.clickIndex&&(r[a.clickIndex]={controllerIndex:a.clickIndex,isCenter:!0,isInverse:!1},r[t.clickIndex]={controllerIndex:t.clickIndex,isCenter:!1,isInverse:!1},this.setState({controllerInfos:r}));else if("inverse"===a.name&&a.isInverse!==t.isInverse){var n=Object.assign({},r[a.clickIndex]);r[a.clickIndex]={controllerIndex:a.clickIndex,isCenter:!0,isInverse:!n.isInverse},this.setState({controllerInfos:r})}}},{key:"render",value:function(){var e=this,t=[],a=this.props.imageDatas,r=this.state.controllerInfos;return a.forEach(function(a,i){t.push(n.a.createElement(S,{key:i,arrange:r[i],inverse:e.doInverse(i),center:e.doCenter(i)}))}),n.a.createElement("div",{className:b.a["controller-nav"]},t)}}]),t}(r.Component),W=a(126),O=a.n(W),w=a(127),E=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(_.a)(t).call(this))).handleClick=function(t){e.setState({clickInfo:t})},e.resize=function(){e.setState({stageSize:e.getStageSize()})},e.getStageSize=function(){var t=e.stage.scrollWidth,a=e.stage.scrollHeight;return{stageW:t,stageH:a,halfStageW:Math.ceil(t/2),halfStageH:Math.ceil(a/2)}},e.state={imageDatas:w||[],stageSize:{stageW:0,stageH:0,halfStageW:0,halfStageH:0},clickInfo:{name:"noClick",clickIndex:0,isCenter:!0,isInverse:!1}},e}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize);var e=this.getStageSize();this.setState({stageSize:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.imageDatas,r=t.stageSize,i=t.clickInfo;return n.a.createElement("section",{className:O.a.stage,ref:function(t){return e.stage=t}},a[0]&&n.a.createElement(I,{imageDatas:a,stageSize:r,handleClick:this.handleClick,clickInfo:i}),a[0]&&n.a.createElement(x,{imageDatas:a,handleClick:this.handleClick,clickInfo:i}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,a){e.exports={"img-sec":"style_img-sec__15TlO","img-figure":"style_img-figure__2boYt","is-inverse":"style_is-inverse__1c-Vy","img-back":"style_img-back__1Nu8h","is-center":"style_is-center__2yq9W","rotate-30":"style_rotate-30__1nyfW","rotate-29":"style_rotate-29__hrkix","rotate-28":"style_rotate-28__3zIyV","rotate-27":"style_rotate-27__1_CXl","rotate-26":"style_rotate-26__2kPrW","rotate-25":"style_rotate-25__3TNq3","rotate-24":"style_rotate-24__3Y40Z","rotate-23":"style_rotate-23__2X999","rotate-22":"style_rotate-22__2rjOQ","rotate-21":"style_rotate-21__2zjXh","rotate-20":"style_rotate-20__DfpI1","rotate-19":"style_rotate-19__2GImS","rotate-18":"style_rotate-18__3bLKv","rotate-17":"style_rotate-17__2h9X3","rotate-16":"style_rotate-16__1fMMe","rotate-15":"style_rotate-15__3QptX","rotate-14":"style_rotate-14__2biGI","rotate-13":"style_rotate-13__3N5_J","rotate-12":"style_rotate-12__1OC9W","rotate-11":"style_rotate-11__3aQpT","rotate-10":"style_rotate-10__2gkRw","rotate-9":"style_rotate-9__1UUqT","rotate-8":"style_rotate-8__3Jkzb","rotate-7":"style_rotate-7__S3o8v","rotate-6":"style_rotate-6__lvVcG","rotate-5":"style_rotate-5__1x98V","rotate-4":"style_rotate-4__35kbk","rotate-3":"style_rotate-3__PSuem","rotate-2":"style_rotate-2__1-NZD","rotate-1":"style_rotate-1__2WiBa",rotate0:"style_rotate0__pd2vE",rotate1:"style_rotate1__EMZd-",rotate2:"style_rotate2__xydGd",rotate3:"style_rotate3__Rnnas",rotate4:"style_rotate4__3bZfC",rotate5:"style_rotate5__12Pfc",rotate6:"style_rotate6__1G1rb",rotate7:"style_rotate7__1GAts",rotate8:"style_rotate8__2eKpW",rotate9:"style_rotate9__jJ1rr",rotate10:"style_rotate10__3x4aC",rotate11:"style_rotate11__15-bd",rotate12:"style_rotate12__1sbQK",rotate13:"style_rotate13__1jqsa",rotate14:"style_rotate14__14MZ2",rotate15:"style_rotate15__2AQYA",rotate16:"style_rotate16__19j6V",rotate17:"style_rotate17__GltK6",rotate18:"style_rotate18__3nVY4",rotate19:"style_rotate19__pFuU1",rotate20:"style_rotate20__3lD1y",rotate21:"style_rotate21__9z6Lm",rotate22:"style_rotate22__RG0fg",rotate23:"style_rotate23__3amPW",rotate24:"style_rotate24__1mLjO",rotate25:"style_rotate25__G6Eti",rotate26:"style_rotate26__3YJID",rotate27:"style_rotate27__1WO_i",rotate28:"style_rotate28__tix-1",rotate29:"style_rotate29__2_8_1",rotate30:"style_rotate30__1Q2Tz","img-title":"style_img-title__2JstJ"}},50:function(e,t,a){e.exports={"controller-nav":"style_controller-nav__mEVYT","controller-unit":"style_controller-unit__2Sbw1","is-center":"style_is-center__2geR8","is-inverse":"style_is-inverse__11wQE"}}},[[128,18,17]]]);
//# sourceMappingURL=main.51f2ba1c.chunk.js.map